<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lead Marketplace - LeadGen Portal</title>

    <link rel="stylesheet" href="../../assets/css/main.css">

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="header">
        <div class="header__left">
            <a href="../../index.html" class="logo">
                <img src="../../assets/img/logo.svg" alt="LeadGen Portal" class="logo__img">
            </a>

            <button class="header__toggle" id="sidebarToggle" aria-label="Toggle Sidebar">
                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="18" height="2" transform="matrix(-1 0 0 1 18 0)" fill="#52BA60" />
                    <rect width="13" height="2" transform="matrix(-1 0 0 1 13 7)" fill="#52BA60" />
                    <rect width="18" height="2" transform="matrix(-1 0 0 1 18 14)" fill="#52BA60" />
                </svg>
            </button>
        </div>

        <div class="header__right">
            <div class="header__balance">
                <img src="../../assets/img/icons/balance.svg" alt="Balance" class="balance-icon">
                <span class="balance-text">ex. $23,656</span>
            </div>

            <button type="button" class="header__buy-btn">Buy More</button>

            <button type="button" class="header__notification" aria-label="Notifications">
                <img src="../../assets/img/icons/notification.svg" alt="" class="notification-icon">
                <span class="notification-dot"></span>
            </button>
        </div>
    </header>

    <div class="layout">

        <aside class="sidebar layout__sidebar" id="sidebar">
            <nav class="sidebar__nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active">
                            <span class="nav-icon" style="--icon-url: url('/../../assets/img/icons/house.svg');"></span>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-icon"
                                style="--icon-url: url('/../../assets/img/icons/list-with-check.svg');"></span>
                            <span class="nav-text">Orders</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-icon" style="--icon-url: url('/../../assets/img/icons/graph.svg');"></span>
                            <span class="nav-text">Analytics</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-icon"
                                style="--icon-url: url('/../../assets/img/icons/settings.svg');"></span>
                            <span class="nav-text">Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar__footer">
                <div class="workspace-label">WORKSPACE</div>

                <div class="workspace-card">
                    <div class="user-info-row">
                        <img src="../../assets/img/avatars/avatar-1.png" alt="User" class="user-avatar">
                        <div class="user-details">
                            <div class="user-name">Jonathan</div>
                            <div class="user-role">Credit Analyst</div>
                            <div class="user-email">jonathan@fundshop.com</div>
                        </div>
                    </div>

                    <button class="logout-btn">
                        <span class="logout-icon" style="--icon-url: url('/../../assets/img/icons/login.svg');"></span>
                        <span class="logout-text">Logout</span>
                    </button>
                </div>
            </div>
        </aside>

        <main class="main-content layout__main">
            <div class="page-container">
                <h1 class="page-title">Orders</h1>

                <div class="approval-grid">

                    <div class="approval-amount">
                        <div class="approval-amount__header approval-amount__header--date">
                            <h2 class="approval-amount__title">MAY 10, 2023</h2>
                        </div>

                        <div class="approval-amount__graphs">
                            <div class="approval-amount__graph">
                                <div class="progress-circle" id="monthly-goal-circle"
                                    style="--fill-color: var(--color-green-main);">
                                    <span class="progress-circle__value" id="monthly-goal-value">$0k</span>
                                </div>
                                <div class="goal-item__details">
                                    <span class="goal-item__label">Monthly goal</span>
                                    <span class="goal-item__full-value" id="monthly-goal-full-value">$0.00</span>
                                </div>
                            </div>

                            <div class="approval-amount__graph">
                                <div class="progress-circle" id="amount-funded-circle" style="--fill-color: #54BE59;">
                                    <span class="progress-circle__value" id="amount-funded-value">$0k</span>
                                </div>
                                <div class="goal-item__details">
                                    <span class="goal-item__label">Amount Funded</span>
                                    <span class="goal-item__full-value color-green"
                                        id="amount-funded-full-value">$0.00</span>
                                </div>
                            </div>

                            <div class="approval-amount__graph">
                                <div class="progress-circle" id="previous-total-circle" style="--fill-color: #ABE1AA;">
                                    <span class="progress-circle__value" id="previous-total-value">$0k</span>
                                </div>
                                <div class="goal-item__details">
                                    <span class="goal-item__label">Previous Total</span>
                                    <span class="goal-item__full-value" id="previous-total-full-value">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="approval-amount">
                        <div class="approval-amount__header">
                            <h2 class="approval-amount__title">Funded Amount</h2>

                            <div class="approval-amount__header-nav">
                                <div class="approval__switch">
                                    <button class="approval__switch-btn approval__switch-btn--active"
                                        id="toggleLineChart" type="button" data-view="line">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M3 20.25V3.75" />
                                            <path d="M19.5 20.25H3.75" />
                                            <path d="M6.75 17.25L11.25 12.75L15 16.5L21 10.5" />
                                        </svg>
                                    </button>
                                    <button class="approval__switch-btn" id="toggleUsersChart" type="button"
                                        data-view="users">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                        </svg>
                                    </button>
                                    <button class="approval__switch-btn" id="toggleTableChart" type="button"
                                        data-view="table">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <rect x="3" y="3" width="18" height="18" rx="2" />
                                            <path d="M3 9h18" />
                                            <path d="M9 21V9" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="approval-amount__body">
                            <div class="approval-amount__stats" id="statsRow">
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Contracts concluded</span>
                                    <span class="approval-amount__value color-green"
                                        id="stats-concluded-value">$0.00</span>
                                    <span class="approval-amount__option" id="stats-concluded-option">Last 12
                                        months</span>
                                </div>
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Total Contracts</span>
                                    <span class="approval-amount__value color-green" id="stats-concluded-count">0</span>
                                </div>
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Totals Value</span>
                                    <span class="approval-amount__value" id="stats-concluded-total-value">$0.00</span>
                                </div>
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Contracts Killed</span>
                                    <span class="approval-amount__value color-red" id="stats-killed-value">$0.00</span>
                                    <span class="approval-amount__option" id="stats-killed-option">Last 12 months</span>
                                </div>
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Total Contracts</span>
                                    <span class="approval-amount__value color-red" id="stats-killed-count">0</span>
                                </div>
                                <div class="approval-amount__item">
                                    <span class="approval-amount__label">Totals Value</span>
                                    <span class="approval-amount__value" id="stats-killed-total-value">$0.00</span>
                                </div>
                            </div>

                            <div class="approval-amount__chart_container" id="lineChartContainer">
                                <canvas id="approvalApprovalAmountChart"></canvas>
                            </div>

                            <div class="users-chart__container hidden" id="usersChartContainer">
                            </div>

                            <div class="approval-table__container hidden" id="tableContainer"></div>
                        </div>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-card__title">Total sales</div>
                        <div class="metric-card__value">5,4M</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Win rate</div>
                        <div class="metric-card__value">16,90%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Close rate</div>
                        <div class="metric-card__value">14,33%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Avg days to close</div>
                        <div class="metric-card__value">60.70</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-card__title">Pipeline Value</div>
                        <div class="metric-card__value">75,1M</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Open Deals</div>
                        <div class="metric-card__value">1,6K</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Weighted Value</div>
                        <div class="metric-card__value">35.7M</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-card__title">Avg Open Deal Age</div>
                        <div class="metric-card__value">200.64</div>
                    </div>
                </div>

                <div class="orders__wrapper">
                    <div class="orders__wrapper-top">
                        <div class="search-wrapper">
                            <span class="search-icon"
                                style="--icon-url: url('/../../assets/img/icons/search.svg');"></span>
                            <input type="text" placeholder="Search" class="search-input">
                        </div>
                        <button type="button" class="campaign-button">
                            <svg width="15" height="15" viewBox="0 0 15 15" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1532_1655)">
                                    <path
                                        d="M15 5.99093H8.50571V-0.5H6.49093V5.99093H0V8.00571H6.49093V14.5H8.50571V8.00571H15V5.99093Z"
                                        fill="white" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_1532_1655">
                                        <rect width="15" height="15" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                            Create Campaign
                        </button>
                    </div>

                    <div class="data-table">
                        <div class="data-table__header">
                            <div class="data-table__cell data-table__cell--checkbox">
                                <div class="checkbox-item" id="checkAll"><input type="checkbox"
                                        class="checkbox-item__input"></div>
                            </div>
                            <div class="data-table__cell">Order Date</div>
                            <div class="data-table__cell">Order Name</div>
                            <div class="data-table__cell">Order Details</div>
                            <div class="data-table__cell">Quantity</div>
                            <div class="data-table__cell">Status</div>
                            <div class="data-table__cell data-table__cell--actions">Action</div>
                        </div>

                        <div class="data-table__body" id="tableBody">

                            <div class="data-table__row" data-id="ord_001">
                                <div class="data-table__cell data-table__cell--checkbox">
                                    <div class="checkbox-item row-checkbox">
                                        <input type="checkbox" class="checkbox-item__input">
                                    </div>
                                </div>
                                <div class="data-table__cell">12/17/2025</div>
                                <div class="data-table__cell">Live Leads</div>
                                <div class="data-table__cell">$350K+ revenue, 3+ years TIB</div>
                                <div class="data-table__cell">250</div>
                                <div class="data-table__cell data-table__cell--status">
                                    <div class="status-wrapper">
                                        <span class="status-badge status-badge--active">ACTIVE</span>
                                        <button class="btn-edit-status"></button>
                                    </div>
                                </div>
                                <div class="data-table__cell data-table__cell--actions">
                                    <div class="custom-dropdown action-dropdown">
                                        <button class="btn-actions dropdown-trigger">
                                            <span></span><span></span><span></span>
                                        </button>
                                        <div class="dropdown-menu">
                                            <div class="dropdown-option" data-action="edit">
                                                <span class="option-text">Edit</span>
                                            </div>
                                            <div class="dropdown-option dropdown-option--delete" data-action="delete">
                                                <span class="option-text">Delete</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="data-table__row" data-id="ord_002">
                                <div class="data-table__cell data-table__cell--checkbox">
                                    <div class="checkbox-item row-checkbox">
                                        <input type="checkbox" class="checkbox-item__input">
                                    </div>
                                </div>
                                <div class="data-table__cell">12/16/2025</div>
                                <div class="data-table__cell">Aged Construction</div>
                                <div class="data-table__cell">3+ mos old, $250K+ revenue</div>
                                <div class="data-table__cell">34</div>
                                <div class="data-table__cell data-table__cell--status">
                                    <div class="status-wrapper">
                                        <span class="status-badge status-badge--completed">COMPLETED</span>
                                        <button class="btn-edit-status"></button>
                                    </div>
                                </div>
                                <div class="data-table__cell data-table__cell--actions">
                                    <div class="custom-dropdown action-dropdown">
                                        <button class="btn-actions dropdown-trigger">
                                            <span></span><span></span><span></span>
                                        </button>
                                        <div class="dropdown-menu">
                                            <div class="dropdown-option" data-action="edit">
                                                <span class="option-text">Edit</span>
                                            </div>
                                            <div class="dropdown-option dropdown-option--delete" data-action="delete">
                                                <span class="option-text">Delete</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="data-table__row" data-id="ord_003">
                                <div class="data-table__cell data-table__cell--checkbox">
                                    <div class="checkbox-item row-checkbox">
                                        <input type="checkbox" class="checkbox-item__input">
                                    </div>
                                </div>
                                <div class="data-table__cell">12/16/2025</div>
                                <div class="data-table__cell">Live Leads</div>
                                <div class="data-table__cell">all available leads</div>
                                <div class="data-table__cell">345</div>
                                <div class="data-table__cell data-table__cell--status">
                                    <div class="status-wrapper">
                                        <span class="status-badge status-badge--completed">COMPLETED</span>
                                        <button class="btn-edit-status"></button>
                                    </div>
                                </div>
                                <div class="data-table__cell data-table__cell--actions">
                                    <div class="custom-dropdown action-dropdown">
                                        <button class="btn-actions dropdown-trigger">
                                            <span></span><span></span><span></span>
                                        </button>
                                        <div class="dropdown-menu">
                                            <div class="dropdown-option" data-action="edit">
                                                <span class="option-text">Edit</span>
                                            </div>
                                            <div class="dropdown-option dropdown-option--delete" data-action="delete">
                                                <span class="option-text">Delete</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="orders__wrapper-bottom">
                        <div class="export-btn-wrapper">
                            <button class="btn" id="btnExport" disabled style="opacity: 0.5; cursor: not-allowed;">
                                Export
                            </button>
                            <div class="custom-tooltip">Export to CSV</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <div class="status-modal" id="statusModal">
        <div class="status-modal__window">
            <div class="status-modal__header">
                <h3 class="status-modal__title">Edit Status</h3>
                <button class="status-modal__close" id="modalCloseX">&times;</button>
            </div>

            <div class="status-modal__body">
                <label class="status-modal__label">Select New Status</label>

                <div class="custom-dropdown modal-dropdown" id="modalStatusDropdown">
                    <button class="dropdown-trigger" style="width: 100%; justify-content: space-between;">
                        <span class="dropdown-text">Select Status</span>
                        <img src="../../assets/img/icons/chevron-down.svg" alt="" class="dropdown-chevron">
                    </button>

                    <div class="dropdown-menu" style="width: 100%;">
                        <div class="dropdown-option" data-value="ACTIVE">
                            <div class="option-checkbox"></div>
                            <span class="option-text">ACTIVE</span>
                        </div>
                        <div class="dropdown-option" data-value="PLANNED">
                            <div class="option-checkbox"></div>
                            <span class="option-text">PLANNED</span>
                        </div>
                        <div class="dropdown-option" data-value="COMPLETED">
                            <div class="option-checkbox"></div>
                            <span class="option-text">COMPLETED</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="status-modal__footer">
                <button class="status-modal__btn status-modal__btn--cancel" id="modalCancel">Cancel</button>
                <button class="status-modal__btn status-modal__btn--save" id="modalSave">Save</button>
            </div>
        </div>
    </div>

    <script src="../../assets/js/libraries/chart.js"></script>
    <script src="../../assets/js/core.js"></script>
    <script src="../../assets/js/ui.js"></script>
    <script src="script.js"></script>

    <div id="demo-nav" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; font-family: sans-serif;">

        <button id="demo-nav-btn" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%; 
        background: #232323; 
        color: #fff; 
        border: none; 
        cursor: pointer; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        display: flex; align-items: center; justify-content: center;
        font-size: 24px;
        transition: transform 0.2s;
    ">
            ‚ò∞
        </button>

        <div id="demo-nav-list" style="
        position: absolute; 
        bottom: 60px; 
        right: 0; 
        background: #fff; 
        border: 1px solid #ddd; 
        border-radius: 8px; 
        padding: 10px; 
        box-shadow: 0 5px 20px rgba(0,0,0,0.15); 
        width: 200px; 
        display: none; 
        flex-direction: column; 
        gap: 8px;
    ">
            <h4 style="margin: 0 0 8px 0; font-size: 12px; color: #888; text-transform: uppercase;">All Pages</h4>

            <a href="/index.html"
                style="text-decoration: none; color: #232323; font-size: 14px; padding: 5px; border-radius: 4px; transition: background 0.2s;">üè†
                Dashboard</a>
            <a href="/pages/orders/index.html"
                style="text-decoration: none; color: #232323; font-size: 14px; padding: 5px; border-radius: 4px; transition: background 0.2s;">üìã
                Orders</a>
            <a href="/pages/order-details/index.html"
                style="text-decoration: none; color: #232323; font-size: 14px; padding: 5px; border-radius: 4px; transition: background 0.2s;">üìÑ
                Order Details</a>
            <a href="/pages/lead-marketplace/index.html"
                style="text-decoration: none; color: #232323; font-size: 14px; padding: 5px; border-radius: 4px; transition: background 0.2s;">üõí
                Marketplace</a>
        </div>

        <script>
            (function () {
                const btn = document.getElementById('demo-nav-btn');
                const list = document.getElementById('demo-nav-list');
                const links = list.querySelectorAll('a');

                // 1. Toggle visibility
                btn.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevent immediate closing
                    const isHidden = list.style.display === 'none' || list.style.display === '';
                    list.style.display = isHidden ? 'flex' : 'none';
                    btn.innerHTML = isHidden ? '‚úï' : '‚ò∞';
                });

                // 2. Hover effects for links (inline styles workaround)
                links.forEach(link => {
                    link.addEventListener('mouseenter', () => link.style.background = '#f0f0f0');
                    link.addEventListener('mouseleave', () => link.style.background = 'transparent');

                    // Highlight current page
                    if (window.location.pathname === link.getAttribute('href')) {
                        link.style.background = '#e0ffe0';
                        link.style.fontWeight = 'bold';
                    }
                });

                // 3. Close when clicking outside
                document.addEventListener('click', (e) => {
                    if (!document.getElementById('demo-nav').contains(e.target)) {
                        list.style.display = 'none';
                        btn.innerHTML = '‚ò∞';
                    }
                });

                // 4. PATH FIXER (Optional: Makes it work even if you are not using Live Server)
                // It tries to adjust links relative to current depth if protocol is file://
                // But for standard web dev (localhost:5500), root paths / are best.
            })();
        </script>
    </div>
</body>

</html>